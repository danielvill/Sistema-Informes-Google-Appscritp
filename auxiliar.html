<style>
    .loader-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.8);
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .spinner {
        border: 8px solid #f3f3f3;
        border-top: 8px solid #28a745;
        border-radius: 50%;
        width: 60px;
        height: 60px;
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        0% {
            transform: rotate(0deg);
        }

        100% {
            transform: rotate(360deg);
        }
    }
</style>

<div id="loader" class="loader-overlay">
    <div class="spinner"></div>
</div>





<div class="container">
    <br>
    <h2 class="mb-4">‚Äãüë®‚Äçüë®‚Äçüë¶‚Äçüë¶‚Äã Publicadores</h2>
    <table id="tabla" class="display table table-striped" style="width:100%">
        <thead>
            <tr>
                <th>id_codigo</th>
                <th>nombre</th>
                <th>grupo</th>
                <th>tipo</th>
                <th>comentario</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>



<script>
    let tabla;
    let dataSet = [];

    // Funcion de animacion para lo que es la carga
    function mostrarLoader() {
        document.getElementById('loader').style.display = 'flex';
    }

    function ocultarLoader() {
        document.getElementById('loader').style.display = 'none';
    }
    // Cargar datos
    function cargarAuxiliar() {
        mostrarLoader(); // Mostrar animaci√≥n
        google.script.run.withSuccessHandler(function (data) {
            dataSet = data;
            if (tabla) {
                tabla.clear().rows.add(dataSet).draw();
            } else {
                tabla = $('#tabla').DataTable({
                    data: dataSet,
                    columns: [
                        { data: 'id_codigo' },
                        { data: 'nombre', defaultContent: '' },
                        { data: 'grupo', defaultContent: '' },
                        { data: 'tipo', defaultContent: '' },
                        { data: 'comentario', defaultContent: '' },

                    ]
                });
            }
            ocultarLoader(); // Ocultar animaci√≥n
        }).getAuxiliar();
    }
    cargarAuxiliar();
</script>